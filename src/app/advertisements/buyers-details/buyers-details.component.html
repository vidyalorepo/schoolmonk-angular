<section class="inner-banner-section inner-banner-search">
    <div class="container-fluid">
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <h1>Buyers Details</h1>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <div class="breadcrumbs_section">
            <ul>
              <li><a routerLink="/auth/home"><button type="submit">Home</button></a></li>
              <li><i class="fa fa-angle-double-right" aria-hidden="true"></i></li>
              <li><button type="submit">Buyers Details</button></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <section class="innersearchsection Advertisementsection">
    <div class="container">
      <div class="Student-List-section footer_link">
        <div class="row">
            <p-messages></p-messages>
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <h1>Buyers Details</h1>
  
          </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="tablesection">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                  <th width="100">Zone</th>
                                  <th width="100">Height</th>
                                  <th width="100">Width</th>
                                  <th width="100">Availability</th>
                                  <th width="130">Page</th>
                                  <th width="130">Quantity</th>
                                  <th width="120">Duration</th>
                                  <th width="150" class="text-center">Total Price</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr *ngFor="let item of selectedAds">
                                    <td>{{ item.zoneName }}</td>
                                    <td>{{ item.heightPx}}</td>
                                    <td>{{ item.widthPx}}</td>
                                    <td>{{item.isavailable}}</td>
                                    <td>{{ item.page }}</td>
                                    <td>
                                        <select class="form-control" [(ngModel)]="quantity" >
                                          <ng-container *ngIf="item.isavailable == 0">
                                            <option value="">select</option>
                                            <option  value="0">0</option>
                                          </ng-container>
                                          <ng-container *ngIf="item.isavailable > 0" (change)="gettotalprice()">
                                            <option value="">select</option>
                                            <option *ngFor="let i of getAvailableOptions(item.isavailable)" [value]="i">{{ i }}</option>
                                          </ng-container>
                                        </select>
                                    </td>
                                    <td>
                                        <select class="form-control" [(ngModel)]="duration" (change)="gettotalprice()">
                                          <option value="">select</option>
                                          <option value="1">1 month</option>
                                          <option value="2">2 month</option>
                                          <option value="3">3 month</option>
                                          <option value="4">4 month</option>
                                          <option value="5">6 month</option>
                                        </select>
                                    </td>
                                    <td class="text-center">{{ (totalPrice | currency:'INR')}}</td>
                                </tr>    
                              </tbody>
                        </table><br/><br/>
                    </div>
                </div>
            </div>
        </div>
        <form [formGroup]="_addBuyersDetails">
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                    <div class="form-group">
                        <label>First Name <span class="req">*</span></label>
                        <input type="text" class="form-control" pInputText placeholder="Enter First Name ..."
                            formControlName="firstName">
                        <div class="invalid-text"
                            *ngIf="_addBuyersDetails.controls?.firstName.touched && _addBuyersDetails.controls?.firstName.errors">
                            <div *ngIf=" _addBuyersDetails.controls?.firstName.errors.required ">Buyers Name is
                                required</div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                    <div class="form-group">
                        <label> Last Name <span class="req">*</span></label>
                        <input type="text" class="form-control" pInputText placeholder="Enter Last Name ..."
                            formControlName="lastName">
                        <div class="invalid-text"
                            *ngIf="_addBuyersDetails.controls?.lastName.touched && _addBuyersDetails.controls?.lastName.errors">
                            <div *ngIf=" _addBuyersDetails.controls?.lastName.errors.required ">Buyers Name is
                                required</div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                    <div class="form-group">
                        <label>Email <span class="req">*</span> </label>
                        <input type="email" class="form-control" pInputText placeholder="Enter Email ..."
                            formControlName="email">
                        <div class="invalid-text"
                            *ngIf="_addBuyersDetails.controls?.email.touched && _addBuyersDetails.controls?.email.errors">
                            <div *ngIf=" _addBuyersDetails.controls?.email.errors.required ">Buyers Email is
                                required</div>
                        </div>
                    </div>
                </div>

                <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                    <div class="form-group">
                        <label>Phone Number <span class="req">*</span></label>
                        <input type="tel" class="form-control" pInputText placeholder="Enter Phone  ..."
                            formControlName="phone" maxlength="10">
                        <div class="invalid-text"
                            *ngIf="_addBuyersDetails.controls?.phone.touched && _addBuyersDetails.controls?.phone.errors">
                            <div *ngIf=" _addBuyersDetails.controls?.phone.errors.required ">Buyers Phone Number is
                                required</div>
                            <div *ngIf=" _addBuyersDetails.controls?.phone.errors.pattern">Please, Enter 10
                                digit Mobile Number.</div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ">
                    <div style="height: 10px;"></div>
                    <!-- <div class="form-group"> -->
                    <p-captcha siteKey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"
                        (onResponse)="showResponse($event)" initCallback="loadCaptcha"></p-captcha>
                    <!-- </div> -->
                    <br>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="form-group">
                        <input type="checkbox" #Isagree (change)="isAgree($event)"  />
                        <label>&nbsp;I agree to the
                            <a routerLink="/auth/privacy-policy" target="_blank">
                                Privacy Policy</a>
                            and
                            <a routerLink="/auth/terms-and-conditions" target="_blank">Term & Condition.</a>
                        </label>
                    </div>
                </div>

            </div>

            <div class="box-footer" style="text-align: center;">
                <button type="button" pButton pRipple class="p-button-outlined" data-dismiss="modal"
                    (click)="backModalAdvertisementDetails()" style="margin-right: 10px;">Back</button>
                <button type="submit" pButton pRipple class="p-button-info" (click)="submitBuyersData()"
                   [disabled]="!(_addBuyersDetails.valid && isAgreeChecked &&isHuman && quantity !== '' && duration !== '')" style="margin-right: 10px;">Pay Now</button>
            </div>
        </form>
      </div>
    </div>
  </section>