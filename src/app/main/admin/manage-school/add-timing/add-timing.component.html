<div class="content-wrapper">
  <p-messages></p-messages>
  <section class="content-header">
    <h1>Add Timing </h1>
  </section>
  <section class="content">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <!-- <div class="">
          <p>{{ errMsg }}</p>
        </div> -->
        <div *ngIf="errMsg !== ''" class="alert alert-danger">
          <strong>{{ errMsg }}</strong>
        </div>
        <form [formGroup]="_schoolForm">


          <div class="box box-success2">

            <div class="box-body">
              <div style="text-align: right;">
                <button  type="button" (click)="addBlankParameterList()" class="btn btn-warning"><i class="fa fa-plus" aria-hidden="true"></i></button>
              </div>
              <div class="tablesection">
                <div class="table-responsive">
                  <table class="table table-striped table-striped Timingbox">
                    <thead>
                      <tr>
                        <th scope="col" width="">School Level Name</th>
                        <th scope="col" width="">Start Time</th>
                        <th scope="col" width="">End Time</th>
                        <th scope="col" width="">Additional Info</th>
                        <th scope="col" width="" style="text-align: center;">-</th>
                      </tr>
                    </thead>
                    <tbody>

                      <ng-container formArrayName="schoolTimingDtlVo"
                        *ngFor="let result of parameterListArray.controls;let i=index">
                        <tr [formGroupName]="i">
                          <td scope="row">
                            <select class="form-control" formControlName="schoolLevelName" >
                              <option value="">Select</option>
                              <option *ngFor="let data of _schoolLevelInfoList" value="{{data.schoolLevelName}}">{{data.schoolLevelName}}</option>
                            </select>
                            <div *ngIf="isSubmit == true && result.value.schoolLevelName == ''" class="invalid-text">School Level is required</div>
                          </td>
                          
                          <td scope="row">
                            <div class="form-group time-icon">
                              <input formControlName="startTime" class="form-control" type="time">
                            </div>
                            <div *ngIf="isSubmit == true && result.value.startTime == ''" class="invalid-text">Start Time is required</div>
                          </td>
                          <td scope="row">
                            <div class="form-group time-icon">
                              <input formControlName="endTime" class="form-control" type="time">
                            </div>
                            <div *ngIf="isSubmit == true && result.value.endTime == ''" class="invalid-text">End Time is required</div>
                          </td>
                          <td scope="row">
                            <textarea formControlName="additionalInfo" rows="2" cols="50"></textarea>
                          </td>
                          <td scope="row" style="text-align: center;">
                                <!-- *ngIf="i != 0" -->
                                <button  (click)="removeRow(i)" type="button" class="btn btn-danger"><i class="fa fa-trash-o" aria-hidden="true"></i></button> 
                          </td>
                        </tr>
                      </ng-container>

                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- <div class="box-footer">
              <div class="pull-left">

              </div>
              <div class="pull-right">
                <button type="button" (click)="addBlankParameterList()" class="btn btn-warning">Add Row</button>
                &nbsp;&nbsp;
              </div>
              <div class="clearfix"></div>
            </div> -->

            <div class="box-footer">
              <div class="text-center">
                <!-- <button type="button" routerLink="/manage-school/timing-list" class="btn link2 mx-1">Cancel</button> -->
                <button type="button" (click)="submitTiming()" class="btn link1 mx-1">Update</button>

              </div>
            </div>

          </div>
        </form>
      </div>
    </div>
  </section>
</div>